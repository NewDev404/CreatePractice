package com.tuapp.features.vehicle_details

import com.google.firebase.database.*

class VehicleDetailsRepository {

    private val databaseRef: DatabaseReference =
        FirebaseDatabase.getInstance().getReference("vehicles")

    fun getSensorData(
        vehicleId: String,
        callback: (SensorData?) -> Unit
    ) {
        databaseRef.child(vehicleId).child("sensors")
            .addListenerForSingleValueEvent(object : ValueEventListener {
                override fun onDataChange(snapshot: DataSnapshot) {
                    val data = snapshot.getValue(SensorData::class.java)
                    callback(data)
                }

                override fun onCancelled(error: DatabaseError) {
                    callback(null)
                }
            })
    }
}

OTRO

package com.tuapp.features.vehicle_details

import androidx.lifecycle.LiveData
import androidx.lifecycle.MutableLiveData
import androidx.lifecycle.ViewModel

class VehicleDetailsViewModel : ViewModel() {

    private val repository = VehicleDetailsRepository()

    private val _sensorData = MutableLiveData<SensorData?>()
    val sensorData: LiveData<SensorData?> get() = _sensorData

    fun loadSensorData(vehicleId: String) {
        repository.getSensorData(vehicleId) { data ->
            _sensorData.postValue(data)
        }
    }
}

OTRO

<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <LinearLayout 
        android:orientation="vertical"
        android:padding="16dp"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <TextView android:id="@+id/text_vehicle_name" android:text="Nombre del vehículo" />
        <TextView android:id="@+id/text_voltage" android:text="Voltaje:" />
        <TextView android:id="@+id/text_temperature" android:text="Temperatura:" />
        <TextView android:id="@+id/text_level_water" android:text="Nivel Agua:" />
        <TextView android:id="@+id/text_distance_water" android:text="Distancia Agua:" />
        <TextView android:id="@+id/text_level_fuel" android:text="Nivel Combustible:" />
        <TextView android:id="@+id/text_distance_fuel" android:text="Distancia Combustible:" />

    </LinearLayout>
</ScrollView>

OTRO

package com.tuapp.features.vehicle_details

import android.os.Bundle
import androidx.activity.viewModels
import androidx.appcompat.app.AppCompatActivity
import com.tuapp.databinding.ActivityVehicleDetailsBinding

class VehicleDetailsActivity : AppCompatActivity() {

    private lateinit var binding: ActivityVehicleDetailsBinding
    private val viewModel: VehicleDetailsViewModel by viewModels()

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        binding = ActivityVehicleDetailsBinding.inflate(layoutInflater)
        setContentView(binding.root)

        val vehicleId = intent.getStringExtra("vehicleId") ?: return

        viewModel.loadSensorData(vehicleId)

        viewModel.sensorData.observe(this) { data ->
            data?.let {
                binding.textVehicleName.text = it.sensorId
                binding.textVoltage.text = "Voltaje: ${it.voltage} V"
                binding.textTemperature.text = "Temperatura: ${it.temperature} °C"
                binding.textLevelWater.text = "Nivel Agua: ${it.levelWater} %"
                binding.textDistanceWater.text = "Distancia Agua: ${it.distanceWater} cm"
                binding.textLevelFuel.text = "Nivel Combustible: ${it.levelFuel} %"
                binding.textDistanceFuel.text = "Distancia Combustible: ${it.distanceFuel} cm"
            }
        }
    }
}
